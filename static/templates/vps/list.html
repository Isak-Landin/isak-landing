{% extends "layouts/dashboard_base.html" %}
{% block title %}VPS Plans{% endblock %}

{% block extra_css %}{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard_vps.css') }}">
{% endblock %}

{% block dashboard_content %}

<section class="hero-section">
  <div class="container">
    <h1 class="hero-title">Your Virtual Private Servers</h1>
    <p class="intro-lead hero-text">Manage your servers with ease.</p>

    <div class="hero-actions">
      {% if current_user.is_authenticated %}
        <a href="#" class="button primary">Launch a new VPS</a>
      {% else %}
        <a href="{{ url_for('auth_blueprint.login') }}?next={{ url_for('vps_blueprint.vps_list_page') }}"
           class="button primary">Log in to launch</a>
      {% endif %}
    </div>

    <div class="hero-microcopy">
      Provisioned after payment. Upgrade or cancel anytime.
    </div>

    <!-- Trust signals -->
    <div class="trust-strip" aria-label="Trust and assurances">
      <span class="trust-pill"><span class="icon">üîí</span> Secure checkout</span>
      <span class="trust-pill"><span class="icon">üí≥</span> Stripe payments</span>
      <span class="trust-pill"><span class="icon">‚úÖ</span> No hidden fees</span>
      <span class="trust-pill"><span class="icon">‚Ü©Ô∏è</span> Cancel anytime</span>
      {# Optional/conditional if accurate: <span class="trust-pill"><span class="icon">üá™üá∫</span> Data in EU</span> #}
    </div>

    <div class="hero-divider" role="presentation"></div>

    <!-- Payment methods / social proof (swap text for SVGs when ready) -->
    <div class="brand-strip" aria-label="Supported payment methods">
      <span class="brand-chip">Stripe</span>
      <span class="brand-chip">Visa</span>
      <span class="brand-chip">Mastercard</span>
      <span class="brand-chip">SEPA</span>
    </div>

    <!-- Tiny policy links (hook up real routes) -->
    <div class="policy-links">
      <a href="/terms">Terms</a> ‚Ä¢ <a href="/privacy">Privacy</a> ‚Ä¢ <a href="/refunds">Refunds</a>
    </div>
  </div>
</section>


<section class="radial-dark-section hero-condensed">
  <div class="container">
    <h1 class="hero-condensed-title">Choose your VPS</h1>
    <p class="intro-lead hero-condensed-text">Simple pricing. Scale later.</p>
  </div>
</section>

<section class="split-section">
  <div class="container">
    <div class="plans-grid">
      {% for p in plans %}
      <article class="plan-card">
        <header class="plan-head">
          <h3 class="plan-title">{{ p.name }}</h3>
          {# description removed on purpose #}
        </header>

        <ul class="specs">
          <li><strong>{{ p.vcpu }}</strong> vCPU</li>
          <li><strong>{{ p.ram_gb }}</strong> GB RAM</li>
          <li><strong>{{ p.ssd_gb }}</strong> GB NVMe</li>
          <li><strong>{{ p.bandwidth_tb }}</strong> TB bandwidth</li>
          <li><strong>OS</strong> of choice</li>
        </ul>

        {% if current_user.is_authenticated %}
          <div class="plan-actions">
            <button class="plan-btn plan-btn--ghost"
                    data-plan="{{ p.plan_code }}" data-interval="month">
              Get
            </button>
          </div>
        {% else %}
          <a class="plan-btn plan-btn--ghost"
             href="{{ url_for('auth_blueprint.login') }}?next={{ url_for('vps_blueprint.vps_list_page') }}">
            Log in to get
          </a>
        {% endif %}
      </article>
      {% endfor %}
    </div>
  </div>
</section>

{% if current_user.is_authenticated %}
  <script>
    // For now default interval = month. We can add a chooser later.
    window.VPS_CHECKOUT_URL = "{{ url_for('vps_blueprint.vps_checkout') }}";
  </script>
  <script src="{{ url_for('static', filename='js/vps/list.js') }}"></script>
{% endif %}
{% endblock %}
