{# static/templates/admin_dashboard.html #}
{% extends "layouts/admin_dashboard_base.html" %}
{% block title %}Admin Dashboard{% endblock %}

{% block extra_css %}{{ super() }}{% endblock %}

{% block admin_dashboard_content %}
  <section class="radial-dark-section hero-condensed">
    <div class="container">
      <h1>Admin Overview</h1>
      <div class="user-meta">
        <span class="avatar-emoji">ğŸ›¡ï¸</span>
        <span class="email">Logged in as Admin</span>
      </div>
      <div class="hero-marker"></div>
      <p class="intro-lead">Manage users, subscriptions, and VPS instances.</p>
    </div>
  </section>

  <div class="dashboard-summary">
    <div class="card">ğŸ‘¥ <strong id="user-count">â€“</strong> Users</div>
    <div class="card">ğŸ§¾ <strong id="sub-count">â€“</strong> Subscriptions</div>
    <div class="card">ğŸ–¥ï¸ <strong id="vps-count">â€“</strong> VPSes</div>
  </div>

  <section class="split-section">
    <div class="container">
      <!-- Tabs -->
      <div class="admin-tab-bar">
        <div class="tab-pill active" id="tab-users">ğŸ‘¥ Users</div>
        <div class="tab-pill" id="tab-subs">ğŸ§¾ Subscriptions</div>
        <div class="tab-pill" id="tab-vps">ğŸ–¥ï¸ VPS</div>

        <button id="admin-refresh" class="tab-refresh" title="Reload data">
          <span class="refresh-icon">âŸ³</span>
        </button>

      </div>

      <!-- Users Table -->
      <div class="table-container" id="users-table">
        <table>
          <thead>
            <tr>
              <th>Email</th>
              <th>VPS Count</th>
            </tr>
          </thead>
          <tbody id="users-body">
            {# filled by JS #}
          </tbody>
        </table>
      </div>

      <!-- Subscriptions Table -->
      <div class="table-container hidden" id="subs-table">
        <table>
          <thead>
            <tr>
              <th>Owner</th>
              <th>Plan</th>
              <th>Interval</th>
              <th>Status</th>
              <th>Price</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="subs-body">
            {# filled by JS #}
          </tbody>
        </table>
      </div>

      <!-- VPS Table -->
      <div class="table-container hidden" id="vps-table">
        <table>
          <thead>
            <tr>
              <th>Hostname</th>
              <th>IP</th>
              <th>OS</th>
              <th>CPU</th>
              <th>RAM</th>
              <th>Owner</th>
            </tr>
          </thead>
          <tbody id="vps-body">
            {# filled by JS #}
          </tbody>
        </table>
      </div>
    </div>
  </section>


{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/admin/users_table.js') }}"></script>
<script src="{{ url_for('static', filename='js/admin/subscriptions_table.js') }}"></script>
<script src="{{ url_for('static', filename='js/admin/vps_table.js') }}"></script>
<script src="{{ url_for('static', filename='js/admin/tabs_controller.js') }}"></script>
{% endblock %}
