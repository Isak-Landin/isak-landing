{% extends "layouts/public_base.html" %}

{% block page_title %}Set a new password â€” HostNodex{% endblock %}
{% block og_image %}{% set OG_IMG = BASE_URL ~ "/static/images/og/hostnodex-og-register.png" %}{% endblock %}

{% block hero_title %}Set a new password{% endblock %}
{% block hero_text %}Choose a strong password you haven't used here before.{% endblock %}
{% block hero_meta %}
  <span class="trust-pill">ðŸ§© Strong password required</span>
  <span class="trust-pill">âœ… No hidden fees</span>
{% endblock %}
{% block hero_actions %}{% endblock %}

{% block page_content %}
  <div class="auth-wrap">
    <div class="auth-card">
      <div class="auth-head">
        <h2>Reset password</h2>
        <p>Enter your new password below.</p>
      </div>

      <form method="POST" id="reset-form" class="auth-form" novalidate
            action="{{ url_for('auth_blueprint.reset_password') }}">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <input type="hidden" name="token" value="{{ token }}">

        {% if error %}
          <div class="auth-error" aria-live="polite">{{ error }}</div>
        {% endif %}

        <div class="form-row">
          <label for="password">New password</label>
          <input id="password" name="password" type="password"
                 placeholder="Create a strong password"
                 required minlength="12"
                 autocomplete="new-password"
                 aria-describedby="password-hint">
          <small id="password-hint" class="hint">
            At least 12 characters, with uppercase, lowercase, a number, and a symbol.
          </small>
        </div>

        <div class="form-row">
          <label for="confirm_password">Confirm password</label>
          <input id="confirm_password" name="confirm_password" type="password"
                 placeholder="Repeat your password"
                 required minlength="12"
                 autocomplete="new-password">
        </div>

        <div id="reset-error" class="auth-error" aria-live="polite"></div>

        <div class="auth-actions">
          <button type="submit" class="button primary auth-primary">Set new password</button>
          <a class="button ghost auth-secondary" href="{{ url_for('auth_blueprint.login') }}">Back to login</a>
        </div>

        <div class="auth-meta">
          <a href="{{ url_for('vps_blueprint.vps_list_page') }}">Browse VPS plans</a>
        </div>
      </form>
    </div>
  </div>
{% endblock %}

{% block extra_css %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/public/public.css') }}?v=2">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}?v=5">
{% endblock %}

{% block extra_js %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/users/reset.js') }}?v=1" defer></script>
{% endblock %}

