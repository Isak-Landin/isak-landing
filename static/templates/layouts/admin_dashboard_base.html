<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>{% block title %}Admin Dashboard{% endblock %}</title>

    {# DASHBOARD SHELL THEME (topbar + sidenav) #}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/layouts/dashboard_shell.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/layouts/dashboard_components.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin/admin_footer.css') }}">
    {# PAGE/CHILD-LEVEL STYLES (e.g., css/layouts/dashboard_content_base.css) #}
    {% block extra_css %}{% endblock %}
  </head>

  <body class="dash-body">
    {# Top bar for admin (and later user) dashboards #}
    <header class="dash-topbar" role="banner">
      <div class="dash-container">
        <div class="dash-topbar-left">
          <a class="dash-brand" href="{{ url_for('admin_blueprint.dashboard') }}">
            <span class="dash-logo" aria-hidden="true">ğŸ›¡ï¸</span>
            <span class="dash-brand-text">Admin</span>
          </a>
        </div>
        <div class="dash-topbar-right">
          <span class="dash-env-pill">Dashboard</span>
          <a class="dash-account" href="{{ url_for('auth_blueprint.logout') }}" title="Log out">Log out</a>
        </div>
      </div>
    </header>

    <div class="dashboard-layout">
      <!-- Side Nav -->
      <aside class="dashboard-sidenav dash-sidenav" role="navigation" aria-label="Admin sidenav">
        <h2 class="nav-title">Admin Panel</h2>
        <ul class="nav-links">
          <li><a href="{{ url_for('admin_blueprint.dashboard') }}">ğŸ‘¥ Users</a></li>
          <li><a href="{{ url_for('admin_blueprint.dashboard') }}">ğŸ–¥ï¸ VPS Instances</a></li>
          <li><a href="{{ url_for('chat_blueprint.admin_inbox') }}">ğŸ’¬ Chat Inbox</a></li>
          <li><a href="{{ url_for('auth_blueprint.logout') }}">ğŸ”“ Log Out</a></li>
        </ul>
      </aside>

      <!-- Main Content -->
      <main class="dashboard-main">
        {% block admin_dashboard_content %}{% endblock %}
      </main>
    </div>

    {# NEW: compact admin footer #}
    <footer class="dash-footer" role="contentinfo">
      <div class="dash-container">
        <nav class="dash-footer-links" aria-label="Admin quick links">
          <a href="/admin/dashboard">Dashboard</a>
          <a href="/admin/health">System status</a>
          <a href="/admin/logs">Logs</a>
          <a href="/admin/docs">Docs</a>
        </nav>
        <div class="dash-footer-meta">
          <span class="text">Admin</span>
          <span class="sep">{{ current_user.email }}</span>
          <span class="version">v{{ app_version or "â€”" }}</span>
        </div>
      </div>
    </footer>

    {% block extra_js %}{% endblock %}
  </body>
</html>
