{% extends "layouts/base.html" %}

{% block title %}Register | Isak Landin{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/subpages.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/register.css') }}">
{% endblock %}

{% block content %}
<section class="radial-dark-section hero-condensed">
  <div class="register-wrapper">
    <div class="register-card">
      <h2>Create Account</h2>
      <div class="hero-marker"></div>

      <form method="POST" id="register-form">
        <input type="email" name="email" placeholder="Email" required>
        <input type="password" name="password" id="password" placeholder="Password" required>
        <input type="password" name="confirm_password" id="confirm_password" placeholder="Confirm Password" required>

        <p id="password-error">Passwords do not match.</p>

        <button type="submit">Register</button>
      </form>

      <p class="register-footer">
        Already have an account? <a href="{{ url_for('auth_blueprint.login') }}">Log in here</a>
      </p>
    </div>
  </div>
</section>

<script>
  const form = document.getElementById('register-form');
  const pw = document.getElementById('password');
  const confirm = document.getElementById('confirm_password');
  const errorMsg = document.getElementById('password-error');

  form.addEventListener('submit', function (e) {
    if (pw.value !== confirm.value) {
      e.preventDefault();
      errorMsg.style.display = 'block';
    } else {
      errorMsg.style.display = 'none';
    }
  });
</script>
{% endblock %}
