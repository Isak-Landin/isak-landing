{# static/templates/legal/detail.html #}
{% extends "layouts/public_base.html" %}

{% block page_title %}{{ doc.title }} — HostNodex{% endblock %}
{% block hero_title %}{{ doc.title }}{% endblock %}
{% block hero_text %}Version {{ doc.version }} · Effective {{ doc.effective.strftime('%Y-%m-%d') }} · Category: {{ doc.category }}{% endblock %}

{% block page_content %}
  <section class="legal-detail">
    <p class="legal-summary">{{ doc.summary }}</p>

    <div class="legal-actions">
      <a class="btn" href="{{ pdf_url }}" target="_blank" rel="noopener">Open PDF</a>
      <a class="btn" href="{{ pdf_url }}" download>Download PDF</a>
      <a class="btn btn--ghost" href="{{ url_for('legal_blueprint.legal_index') }}">← All legal documents</a>
    </div>

    <div class="legal-frame">
      <iframe
        class="legal-iframe"
        src="{{ pdf_url }}#view=FitH"
        title="{{ doc.title }} PDF"
      ></iframe>
    </div>

    <p class="legal-fallback">
      If the PDF doesn’t display, <a href="{{ pdf_url }}" target="_blank" rel="noopener">open it in a new tab</a>.
    </p>
  </section>
{% endblock %}

{% block extra_css %}{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/legal/detail.css') }}">
{% endblock %}
